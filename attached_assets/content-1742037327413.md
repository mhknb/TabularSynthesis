[Skip to content](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#start-of-content)

You signed in with another tab or window. [Reload](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master) to refresh your session.Dismiss alert

[Baukebrenninkmeijer](https://github.com/Baukebrenninkmeijer)/ **[table-evaluator](https://github.com/Baukebrenninkmeijer/table-evaluator)** Public

- [Notifications](https://github.com/login?return_to=%2FBaukebrenninkmeijer%2Ftable-evaluator) You must be signed in to change notification settings
- [Fork\\
28](https://github.com/login?return_to=%2FBaukebrenninkmeijer%2Ftable-evaluator)
- [Star\\
86](https://github.com/login?return_to=%2FBaukebrenninkmeijer%2Ftable-evaluator)


Evaluate real and synthetic datasets against each other


[baukebrenninkmeijer.github.io/table-evaluator/](https://baukebrenninkmeijer.github.io/table-evaluator/ "https://baukebrenninkmeijer.github.io/table-evaluator/")

### License

[MIT license](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/LICENSE)

[86\\
stars](https://github.com/Baukebrenninkmeijer/table-evaluator/stargazers) [28\\
forks](https://github.com/Baukebrenninkmeijer/table-evaluator/forks) [Branches](https://github.com/Baukebrenninkmeijer/table-evaluator/branches) [Tags](https://github.com/Baukebrenninkmeijer/table-evaluator/tags) [Activity](https://github.com/Baukebrenninkmeijer/table-evaluator/activity)

[Star](https://github.com/login?return_to=%2FBaukebrenninkmeijer%2Ftable-evaluator)

[Notifications](https://github.com/login?return_to=%2FBaukebrenninkmeijer%2Ftable-evaluator) You must be signed in to change notification settings

# Baukebrenninkmeijer/table-evaluator

master

[**2** Branches](https://github.com/Baukebrenninkmeijer/table-evaluator/branches) [**18** Tags](https://github.com/Baukebrenninkmeijer/table-evaluator/tags)

[Go to Branches page](https://github.com/Baukebrenninkmeijer/table-evaluator/branches)[Go to Tags page](https://github.com/Baukebrenninkmeijer/table-evaluator/tags)

Go to file

Code

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>## History<br>[307 Commits](https://github.com/Baukebrenninkmeijer/table-evaluator/commits/master/) |
| [.github](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/.github ".github") | [.github](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/.github ".github") |  |  |
| [data](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/data "data") | [data](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/data "data") |  |  |
| [docs](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/docs "docs") | [docs](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/docs "docs") |  |  |
| [images](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/images "images") | [images](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/images "images") |  |  |
| [notebooks](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/notebooks "notebooks") | [notebooks](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/notebooks "notebooks") |  |  |
| [table\_evaluator](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/table_evaluator "table_evaluator") | [table\_evaluator](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/table_evaluator "table_evaluator") |  |  |
| [tests](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/tests "tests") | [tests](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master/tests "tests") |  |  |
| [.gitignore](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/.gitignore ".gitignore") | [.gitignore](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/.gitignore ".gitignore") |  |  |
| [.pre-commit-config.yaml](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/.pre-commit-config.yaml ".pre-commit-config.yaml") | [.pre-commit-config.yaml](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/.pre-commit-config.yaml ".pre-commit-config.yaml") |  |  |
| [LICENSE](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/LICENSE "LICENSE") | [LICENSE](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/README.md "README.md") | [README.md](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/README.md "README.md") |  |  |
| [example\_table\_evaluator.ipynb](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/example_table_evaluator.ipynb "example_table_evaluator.ipynb") | [example\_table\_evaluator.ipynb](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/example_table_evaluator.ipynb "example_table_evaluator.ipynb") |  |  |
| [poetry.lock](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/poetry.lock "poetry.lock") | [poetry.lock](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/poetry.lock "poetry.lock") |  |  |
| [poetry.toml](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/poetry.toml "poetry.toml") | [poetry.toml](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/poetry.toml "poetry.toml") |  |  |
| [pyproject.toml](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/pyproject.toml "pyproject.toml") | [pyproject.toml](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/pyproject.toml "pyproject.toml") |  |  |
| View all files |

## Repository files navigation

# Table Evaluator

[Permalink: Table Evaluator](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#table-evaluator)

[![PyPI version](https://camo.githubusercontent.com/8271e417b79fa57972251374141abf2ab1b2ee0d576d713e5e5575d7b8c2195d/68747470733a2f2f62616467652e667572792e696f2f70792f7461626c652d6576616c7561746f722e737667)](https://badge.fury.io/py/table-evaluator)[![Supported versions](https://camo.githubusercontent.com/27d3b5302e04f37d2b11312975b46671cd537c5fadeb5a0dd9c190f07e056e2a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7461626c655f6576616c7561746f722e737667)](https://pypi.python.org/pypi/table_evaluator)[![Package deployment](https://github.com/Baukebrenninkmeijer/table-evaluator/actions/workflows/python-publish.yml/badge.svg?branch=master)](https://github.com/Baukebrenninkmeijer/table-evaluator/actions/workflows/python-publish.yml/badge.svg?branch=master)[![PyPI - Downloads](https://camo.githubusercontent.com/c8cd2247d5a6d68266da0fde331719cf827ea0000aca7de6247e6e181d57fdc5/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f7461626c655f6576616c7561746f72)](https://pypistats.org/packages/table_evaluator)[![Documentation](https://camo.githubusercontent.com/9050a0c1d9e43454c9c9c547d17097e5380927634b0a5c40359e21630482b67f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f63756d656e746174696f6e2d2532302d626c7565)](https://baukebrenninkmeijer.github.io/table-evaluator/)

TableEvaluator is a library to evaluate how similar a synthesized dataset is to a real data. In other words, it tries to give an indication into how real your fake data is. With the rise of GANs, specifically designed for tabular data, many applications are becoming possibilities. For industries like finance, healthcare and goverments, having the capacity to create high quality synthetic data that does **not** have the privacy constraints of normal data is extremely valuable. Since this field is this quite young and developing, I created this library to have a consistent evaluation method for your models.

## Installation

[Permalink: Installation](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#installation)

The package can be installed with

```
pip install table_evaluator

```

## Tests

[Permalink: Tests](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#tests)

The test can be run by cloning the repo and running:

```
pytest tests

```

if this does not work, the package might not currently be findable. In that case, please install it locally with:

```
pip install -e .

```

## Usage

[Permalink: Usage](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#usage)

**Please see the [example notebook](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/example_table_evaluator.ipynb) for the most up-to-date examples. The README example is just that notebook as markdown.**

Start by importing the class

```
from table_evaluator import load_data, TableEvaluator
```

The package is used by having two DataFrames; one with the real data and one with the synthetic data. These are passed to the TableEvaluator on init.
The `utils.load_data` is nice to retrieve these dataframes from disk since it converts them to the same dtypes and columns after loading. However, any dataframe will do as long as they have the same columns and data types.

Using the test data available in the `data` directory, we do:

```
real, fake = load_data('data/real_test_sample.csv', 'data/fake_test_sample.csv')
```

which gives us two dataframes and specifies which columns should be treated as categorical columns.

```
real.head()
```

| trans\_id | account\_id | trans\_amount | balance\_after\_trans | trans\_type | trans\_operation | trans\_k\_symbol | trans\_date |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 951892 | 3245 | 3878.0 | 13680.0 | WITHDRAWAL | REMITTANCE\_TO\_OTHER\_BANK | HOUSEHOLD | 2165 |
| 3547680 | 515 | 65.9 | 14898.6 | CREDIT | UNKNOWN | INTEREST\_CREDITED | 2006 |
| 1187131 | 4066 | 32245.0 | 57995.5 | CREDIT | COLLECTION\_FROM\_OTHER\_BANK | UNKNOWN | 2139 |
| 531421 | 1811 | 3990.8 | 23324.9 | WITHDRAWAL | REMITTANCE\_TO\_OTHER\_BANK | LOAN\_PAYMENT | 892 |
| 37081 | 119 | 12100.0 | 36580.0 | WITHDRAWAL | WITHDRAWAL\_IN\_CASH | UNKNOWN | 654 |

```
fake.head()
```

| trans\_id | account\_id | trans\_amount | balance\_after\_trans | trans\_type | trans\_operation | trans\_k\_symbol | trans\_date |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 911598 | 3001 | 13619.0 | 92079.0 | CREDIT | COLLECTION\_FROM\_OTHER\_BANK | UNKNOWN | 1885 |
| 377371 | 1042 | 4174.0 | 32470.0 | WITHDRAWAL | REMITTANCE\_TO\_OTHER\_BANK | HOUSEHOLD | 1483 |
| 970113 | 3225 | 274.0 | 57608.0 | WITHDRAWAL | WITHDRAWAL\_IN\_CASH | UNKNOWN | 1855 |
| 450090 | 1489 | 301.0 | 36258.0 | CREDIT | CREDIT\_IN\_CASH | UNKNOWN | 885 |
| 1120409 | 3634 | 6303.0 | 50975.0 | WITHDRAWAL | REMITTANCE\_TO\_OTHER\_BANK | HOUSEHOLD | 1211 |

```
cat_cols = ['trans_type', 'trans_operation', 'trans_k_symbol']
```

If we do not specify categorical columns when initializing the TableEvaluator, it will consider all columns with more than 50 unique values a continuous column and anything with less a categorical columns.

Then we create the TableEvaluator object:

```
table_evaluator = TableEvaluator(real, fake, cat_cols=cat_cols)
```

It's nice to start with some plots to get a feel for the data and how they correlate. The test samples contain only 1000 samples, which is why the cumulative sum plots are not very smooth.

```
table_evaluator.visual_evaluation()
```

[![png](https://github.com/Baukebrenninkmeijer/table-evaluator/raw/master/images/output_7_0.png)](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/images/output_7_0.png)

[![png](https://github.com/Baukebrenninkmeijer/table-evaluator/raw/master/images/output_7_1.png)](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/images/output_7_1.png)

[![png](https://github.com/Baukebrenninkmeijer/table-evaluator/raw/master/images/output_7_2.png)](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/images/output_7_2.png)

[![png](https://github.com/Baukebrenninkmeijer/table-evaluator/raw/master/images/output_7_3.png)](https://github.com/Baukebrenninkmeijer/table-evaluator/blob/master/images/output_7_3.png)

The `evaluate` method gives us the most complete idea of how close the data sets are together.

```
table_evaluator.evaluate(target_col='trans_type')
```

```
Correlation metric: pearsonr

Classifier F1-scores:
                                      real   fake
real_data_LogisticRegression_F1     0.8200 0.8150
real_data_RandomForestClassifier_F1 0.9800 0.9800
real_data_DecisionTreeClassifier_F1 0.9600 0.9700
real_data_MLPClassifier_F1          0.3500 0.6850
fake_data_LogisticRegression_F1     0.7800 0.7650
fake_data_RandomForestClassifier_F1 0.9300 0.9300
fake_data_DecisionTreeClassifier_F1 0.9300 0.9400
fake_data_MLPClassifier_F1          0.3600 0.6200

Miscellaneous results:
                                  Result
Column Correlation Distance RMSE          0.0399
Column Correlation distance MAE           0.0296
Duplicate rows between sets (real/fake)   (0, 0)
nearest neighbor mean                     0.5655
nearest neighbor std                      0.3726

Results:
                                                Result
basic statistics                                0.9940
Correlation column correlations                 0.9904
Mean Correlation between fake and real columns  0.9566
1 - MAPE Estimator results                      0.7843
1 - MAPE 5 PCA components                       0.9138
Similarity Score                                0.9278

```

The similarity score is an aggregate metric of the five other metrics in the section with results. Additionally, the F1/RMSE scores are printed since they give valuable insights into the strengths and weaknesses of some of these models. Lastly, some miscellaneous results are printed, like the nearest neighbor distance between each row in the fake dataset and the closest row in the real dataset. This provides insight into the privacy retention capability of the model. Note that the mean and standard deviation of nearest neighbor is limited to 20k rows, due to time and hardware limitations.

## Full Documentation

[Permalink: Full Documentation](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#full-documentation)

Please see the full documentation on [https://baukebrenninkmeijer.github.io/table-evaluator/](https://baukebrenninkmeijer.github.io/table-evaluator/).

## Motivation

[Permalink: Motivation](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#motivation)

To see the motivation for my decisions, please have a look at my master thesis, found at the [Radboud University](https://www.ru.nl/publish/pages/769526/z04_master_thesis_brenninkmeijer.pdf)

If you have any tips or suggestions, please contact send me on email.

## About

Evaluate real and synthetic datasets against each other


[baukebrenninkmeijer.github.io/table-evaluator/](https://baukebrenninkmeijer.github.io/table-evaluator/ "https://baukebrenninkmeijer.github.io/table-evaluator/")

### Topics

[data](https://github.com/topics/data "Topic: data") [evaluation](https://github.com/topics/evaluation "Topic: evaluation") [generation](https://github.com/topics/generation "Topic: generation") [synthetic](https://github.com/topics/synthetic "Topic: synthetic") [data-evaluation](https://github.com/topics/data-evaluation "Topic: data-evaluation") [synthetic-data](https://github.com/topics/synthetic-data "Topic: synthetic-data") [table-evaluator](https://github.com/topics/table-evaluator "Topic: table-evaluator")

### Resources

[Readme](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#readme-ov-file)

### License

[MIT license](https://github.com/Baukebrenninkmeijer/table-evaluator/tree/master#MIT-1-ov-file)

[Activity](https://github.com/Baukebrenninkmeijer/table-evaluator/activity)

### Stars

[**86**\\
stars](https://github.com/Baukebrenninkmeijer/table-evaluator/stargazers)

### Watchers

[**1**\\
watching](https://github.com/Baukebrenninkmeijer/table-evaluator/watchers)

### Forks

[**28**\\
forks](https://github.com/Baukebrenninkmeijer/table-evaluator/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FBaukebrenninkmeijer%2Ftable-evaluator&report=Baukebrenninkmeijer+%28user%29)

## [Releases\  12](https://github.com/Baukebrenninkmeijer/table-evaluator/releases)

[Fix issue with plotting\\
Latest\\
\\
Dec 6, 2024](https://github.com/Baukebrenninkmeijer/table-evaluator/releases/tag/1.7.2)

[\+ 11 releases](https://github.com/Baukebrenninkmeijer/table-evaluator/releases)

## [Contributors\  6](https://github.com/Baukebrenninkmeijer/table-evaluator/graphs/contributors)

- [![@Baukebrenninkmeijer](https://avatars.githubusercontent.com/u/9077462?s=64&v=4)](https://github.com/Baukebrenninkmeijer)
- [![@traviscibot](https://avatars.githubusercontent.com/u/33116358?s=64&v=4)](https://github.com/traviscibot)
- [![@vnykr](https://avatars.githubusercontent.com/u/39084585?s=64&v=4)](https://github.com/vnykr)
- [![@at1337](https://avatars.githubusercontent.com/u/31705236?s=64&v=4)](https://github.com/at1337)
- [![@dependabot[bot]](https://avatars.githubusercontent.com/in/29110?s=64&v=4)](https://github.com/apps/dependabot)
- [![@actions-user](https://avatars.githubusercontent.com/u/65916846?s=64&v=4)](https://github.com/actions-user)

## Languages

- [Jupyter Notebook95.1%](https://github.com/Baukebrenninkmeijer/table-evaluator/search?l=jupyter-notebook)
- [Python4.9%](https://github.com/Baukebrenninkmeijer/table-evaluator/search?l=python)

You canâ€™t perform that action at this time.